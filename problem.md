all_features(2).csv의 인덱스가 없음
수정종가와 종가의 값이 모두 같음 -> 수정종가 column 모두 삭제
결측치 존재(pmi(52개), ks200(1개))
pmi에 37.2 -> 어떤 상황이었는지 확인해야함
상관계수 0.7 이상인 column 다수 / 다중공선성 문제 가능성 有
CNY/KRW 데이터 추가(위안화)
전세계 지수 -> 피쳐로 고민해볼 가치 있음

거래정지 -> 


***출처***
환율(USD, JPY, EUR) - > pandas datareader
국고채 5년 -> pykrx
VIXCLS, PMI(제조업 구매관리자지수, ISM에서 발표함) -> investing.com(+ CNY 가져와서 병합해야함)
선물가격, 미국소비자물가지수, 미국채(DGS2(2년), DTB3(3개월)) -> fred api

실질금리 계산식
명목금리(공식 자료 有) - 기대인플레이션지수(소비자물가지수 증감률) - > 한국은행 ECOS

*전처리*
1. 값과 퍼센트가 혼동되어 있음
A. 전부 퍼센트로 통일, 원래 퍼센트였던 값은 diff() 처리

2. PMI, 미국소비자물가지수가 주가 아닌 월단위 데이터만 있음
A.  0이 아닌 값을 확인했을때의 값을 n, 그다음 0이 아닌값이 n+1 이라고 했을때 
(n+1) - n의 값을 두 행의 사이 행의 갯수만큼 나눠 등차행렬의 규칙이 되도록 데이터를 작성

3. 환율은 당일 종가의 값을 사용

4. 인덱스(날짜)가 상이한 경우 가장 많이 나온 날짜로 통일 
ex) 소비자물가지수는 1월 29일에 발표, PMI와 실질금리는 1월 30일에 발표된 경우
소비자물가지수도 1월 30일에 발표된 것으로 처리

5. 미국 채권 -> 3개월, 1년(O), 2년
A. 한국 채권도 동일한 기간의 채권수익률 사용(3개월, 1년, 3년 / 2년 채권 데이터 없음)

6. PMI 결측치
A. 결측치가 아닌 값의 앞, 뒤의 평균값 사용(결측치 비율 약 8%)

**추가**
1. 장단기금리차(미국), 위안화 환율, 미국 1년 채권, 한국 1년, 3년 채권수익률 features.csv에 추가
2. 재무데이터 전처리(가격데이터에서 제외된 종목코드 필터링 -> 재무데이터 자체의 결측치 확인 및 필터링(1,3 분기 데이터 비어있는곳 계산/OO비율 등..))
3. 머신러닝 K-means / 지도학습 선택해야함 -> K-means로 3항 분류 후 이를 레이블 삼아 SVM, Random forest의 정확도 확인
4. 가격데이터 기반으로 보조지표 Column 생성(퀀트 로직에 적용할 것들)
5. 


**30초 요약본**
# 퀀트투자란 수치와 데이터를 바탕으로 규칙에만 근거하는 투자다。
# 이로써 개인 투자자의 편향(군집행동, 손실회피성, 확증편향)을 방지할 수 있다。
# 하지만 한국시장에 적합한 퀀트전략이 적고, 고전적 퀀트전략은 시중에 보편화되어 수익성이 감소하는 추세이다.
# *그러므로* 전통적 퀀트전략의 파라미터 등을 개선하고,
# 머신러닝으로 주식시장 국면을 군집화 및 분류해서, 어떤 국면에 / 어떤 퀀트 전략이 적합한지 분석한다.
# *따라서* 미래에, PMI, 실질금리, WTI 등의 값이 새로 주어졌을 때, 머신러닝 모델에 피쳐의 값을 대입해 국면을 예상한 후,
# 머신러닝 모델이 예측한 국면에 통계적으로 유의한 전략을 적용하여
# 위험(변동성) 대비 수익률 - 샤프지수를 극대화한다.




## 10-25 ##
1. 가격데이터에 미포함된 종목코드 제거(재무데이터 중 컬럼값이 없는 종목코드가 같이 제거됨) -> 1430(코스피+코스닥)
2. 10년치 재무


# 10-26 ##
1. 리밸런싱일 당시(10년씩 하루, 총 10일) 거래정지였던 종목코드만 drop
2. 재무데이터 중 매출액, 당기순이익 등의 값이 0과 Nan인 칼럼 삭제
3. 안정성, 수익성, 재무지표, 성장성 등의 칼럼 추가(비율, pct_change() 등..)
4. 종목코드당 12개의 row(행)이 없으면 그 종목코드 삭제
5. 리밸런싱 당일의 종목코드(기업별) 시가총액을 가져와서, Column에 추가
6. 자기자본, 당기순이익, 매출액 등의 값으로 나눠서 PER, PBR, PSR 지표 추가
7. fsdata에서 최종 선정된 종목코드와 pricedata에서 최종 선정된 종목코드의 교집합 구하기 및 투자유니버스 개수 확정(len)
8. pricedata, fsdata의 종목코드 통일, 최종 CSV 발행

**정리**
1. 리밸런싱일 계산 -> 새 해 + 91일

***문제점***
1. 반기보고서와 사업보고서의 제출 기한이 달라 리밸런싱 날짜 통일의 어려움
A. 1년 단위의 리밸런싱(D+91일의 종가에 매수 및 매도 전략)으로 날짜 통일

2. 사업보고서가 D+90일까지 제출되지 않은 경우
A. 이러한 기업의 종목코드 확인 후 모두 삭제(미래선지 편향 방지)

3. 


## 

<흐름 및 보완점>
팀명 및 팀원 소개

워크플로우
퀀트 투자의 정의 및 이점

주제소개


데이터 수집 및 전처리
보완점 -> 새로운 리밸런싱일마다,
직전 년도에 신규상장된 종목들을
투자 유니버스에 누적 삽입

기업의 가치를 평가할 때 -> 연결재무제표가 더 적절
-> TS2000에서 연결, 누적으로 다시 불러오기


투자국면 분류 모델링 및 백테스팅
투자국면 분류 ->
어떤 퀀트 전략이 적절할지 예상하기 위한 국면 분류
-> 한국 1년 채권수익률 / 과거 1년 KOSPI, KOSDAQ 수익률
(비교 기간은 리밸런싱일과 동일)
1. 작년 한 해의 수익률이 좋았으면 ->
다음 한 해의 수익률이 좋을 거라 예상하고 ->
퀀트 전략 중 변동성이 큰 종목 위주로 투자(수익률 극대화)
2. 작년 한 해의 수익률이 나빴으면
다음 한 해의 수익률이 나쁠 거라 예상하고 ->
퀀트 전략 중 변동성이 작은 종목 위주로 투자(위험변동성 최소화)

모델링 >
1번 상황일 때는 다음년도에 0, 2번 상황일 때는 다음 년도에 1로 레이블링
가지고 있는 팩터로 랜덤 포레스트 등의 분류 모델 생성

가지고 있는 팩터들의 수치를 모두 넣은 후 0과 1 예상 


그냥 올웨더..
